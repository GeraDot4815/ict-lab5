# Отчет по лабораторной работе №5
## Выполнил Лазуренко Александр, K3121, 408974
### Работа с коммитами
Клонировал репозиторий и создал в нем новый файл. после чего сохранил изменения и отправил их на GitHub

![1 Клонирование репозитория и коммит](/screens/Снимок%20экрана%20от%202023-12-06%2023-16-08.png) 
![2 Push изменений](/screens/Снимок%20экрана%20от%202023-12-06%2023-20-37.png)

Затем создал новую ветку и добавил изменения в ранее созданный файл. После этого сделал коммит и пуш изменений в ветку **feature**

![3 Внесение изменений на ветке feature](/screens/Снимок%20экрана%20от%202023-12-06%2023-27-14.png)

После вернулся на ветку **main** и выполнил слияние изменений. На всякий случай выполнил push.

![4 Merge веток](/screens/Снимок%20экрана%20от%202023-12-06%2023-31-06.png)

Проверил изменения на GitHub. Видно, что есть 2 ветки и на ветке **main** лежат изменения файла из коммита ветки  **feature**

![5 Проверка изменений](/screens/Снимок%20экрана%20от%202023-12-06%2023-31-38.png)

### Работа с ветками
Сперва создал файл и частично заполнил его текстом. Затем создал новую ветку  **writer** и из нее внес изменения в этот файл. Потом добавил файл в коммит и запушил из этой же ветки.

![6 Создание файла и коммит из новой ветки](/screens/Снимок%20экрана%20от%202023-12-06%2023-47-14.png)

###  Работа с удаленным репозиторием
Вернулся на ветку **main**, сделал слияние, чтобы получить дописанный файл, внес изменения в самом начале и сделал коммит **Book review**, после чего запушил изменнеия.

![7 Ревью файла из другой ветки](/screens/Снимок%20экрана%20от%202023-12-07%2000-45-43.png)

###  Моделирование конфликта
Для создания конфликта внес разные изменения в файле в одной и той же строке из разых веток
![8 Добавление изменений на ветке writer](/screens/Снимок%20экрана%20от%202023-12-07%2001-06-20.png)

### Разрешение конфликта 
В результате, при попутке слияния получил сообщение о конфликте.
![9 Сообщение о конфликте](/screens/Снимок%20экрана%20от%202023-12-07%2001-08-16.png)

![10 Конфликтныестроки](/screens/Снимок%20экрана%20от%202023-12-07%2001-11-18.png)
 
Для разрешения конфликта удалил маркерные строки и оставил только актуальные для проекта изменения

![11 Файл после разрешения конфликта](/screens/Снимок%20экрана%20от%202023-12-07%2001-12-14.png)

После этого выполнил коммит и пуш проекта без конфликтов из основной ветки

![12 Коммит после решения конфликта](/screens/Снимок%20экрана%20от%202023-12-07%2001-13-59.png)

### Автоматизация проверки формата файлов при коммите
Для решения поставленной задачи написал скрипт, который циклом проходит по всем **.txt** файлам директории и с помошью утилиты **grep** проверяет, есть ли в файле точное вхождение нужной строки - штампа соответствия формату. Если хоть один файл в репозитории несоответствует формату, программа завершается с кодом выхода, отличным от 0

![13 Первая версия кода программы](/screens/Снимок%20экрана%20от%202023-12-09%2015-25-35.png)

На скриншоте видно, что программа выдает исключение, если есть файлы, не соответствующие формату

![14 Тест программы](/screens/Снимок%20экрана%20от%202023-12-09%2015-25-52.png)

После теста модифицировал программу, чтобы цикл проходил по всем подпапкам репозитория вглубь.

![15 Модификация кода](/screens/Снимок%20экрана%20от%202023-12-09%2015-32-30.png)

Затем добавил файл в git-hooks,выдал ему права на исполнение и протестировал автоматическую работу скрипта при коммите. На скриншоте видно, что было найдено исключение и комит не завершился

![16 Тест скрипта](/screens/Снимок%20экрана%20от%202023-12-09%2015-36-41.png)
![17 Исправление исключений](/screens/Снимок%20экрана%20от%202023-12-09%2015-37-27.png)

### Использование Git Flow в проекте
Первым делом инициализировал Git Flow. В качестве ветки  **Develop** выбрал ветку **Feature**. После инициализации начал реализацию нового функционала в проекте

![18 Инициализация Git Flow](/screens/Снимок%20экрана%20от%202023-12-09%2016-44-06.png)

В новосозданной ветке для разработки фичи создал Python скрипт, закоммитил изменения и сообщил о завершении разработки фичи, после чего изменения автоматически слились с веткой **feature**, а побочная ветка удалилась

![19 Реализация фичи на новой ветке](/screens/Снимок%20экрана%20от%202023-12-09%2016-44-13.png)

![20 Завершение разработки и слияние веток](/screens/Снимок%20экрана%20от%202023-12-09%2016-47-02.png)

Далее начал создание релиза. Для этого создал файл с версией релиза и закоммитил изменения.

![21 Создание релиза](/screens/Снимок%20экрана%20от%202023-12-09%2017-11-21.png)

Затем прописал завершение релиза, указав необходимые сообщения о нем. Релиз прошел успешно и git flow автоматически переключился на ветку **main** 

![22 Добавление тегов](/screens/Снимок%20экрана%20от%202023-12-09%2017-14-57.png)
![23 Добавление тегов](/screens/Снимок%20экрана%20от%202023-12-09%2017-20-55.png)
![24 Завершение релиза](/screens/Снимок%20экрана%20от%202023-12-09%2017-21-23.png)

### Вывод
В ходе работы научился работать с Git через консоль, попрактиковался в работе с ветками и разрешении конфликтов, узнал про методологию работы с ветками - Git Flow